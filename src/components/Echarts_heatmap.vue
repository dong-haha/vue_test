<template>
    <div id="my_echarts_heatmap"  style="width:1000px;height:400px;"></div>
</template>

<script>
 import * as echarts from 'echarts';


export default {
    mounted(){
        this.drawLine();
    },
    methods: {
        drawLine(){
            //   测试数据
        var str ="{\"max\":\"10.89\",\"data\":[[90,6,\"0.28\"],[89,6,\"0.40\"],[88,6,\"0.53\"],[87,6,\"0.00\"],[86,6,\"0.53\"],[85,6,\"0.23\"],[84,6,\"0.00\"],[83,6,\"0.06\"],[82,6,\"0.08\"],[81,6,\"1.03\"],[80,6,\"1.78\"],[79,6,\"1.26\"],[78,6,\"1.57\"],[77,6,\"0.00\"],[76,6,\"0.59\"],[75,6,\"0.41\"],[74,6,\"1.24\"],[73,6,\"0.58\"],[72,6,\"2.99\"],[71,6,\"3.96\"],[70,6,\"1.10\"],[69,6,\"0.23\"],[68,6,\"0.14\"],[67,6,\"0.14\"],[66,6,\"0.00\"],[65,6,\"0.14\"],[64,6,\"0.52\"],[63,6,\"1.46\"],[62,6,\"2.08\"],[61,6,\"4.78\"],[60,6,\"8.46\"],[59,6,\"9.00\"],[58,6,\"10.50\"],[57,6,\"10.53\"],[56,6,\"9.57\"],[55,6,\"9.93\"],[54,6,\"9.86\"],[53,6,\"9.75\"],[52,6,\"10.89\"],[51,6,\"10.16\"],[50,6,\"10.00\"],[49,6,\"9.97\"],[48,6,\"9.72\"],[47,6,\"9.82\"],[46,6,\"9.33\"],[45,6,\"9.02\"],[44,6,\"9.16\"],[43,6,\"8.66\"],[42,6,\"8.54\"],[41,6,\"6.75\"],[40,6,\"6.52\"],[39,6,\"4.70\"],[38,6,\"3.52\"],[37,6,\"1.66\"],[36,6,\"0.48\"],[35,6,\"1.15\"],[34,6,\"2.95\"],[33,6,\"0.58\"],[32,6,\"0.59\"],[31,6,\"2.11\"],[30,6,\"1.06\"],[29,6,\"6.84\"],[28,6,\"0.00\"],[27,6,\"0.00\"],[26,6,\"7.11\"],[25,6,\"8.67\"],[24,6,\"8.71\"],[23,6,\"9.21\"],[22,6,\"9.23\"],[21,6,\"9.53\"],[20,6,\"8.98\"],[19,6,\"9.49\"],[18,6,\"9.61\"],[17,6,\"9.82\"],[16,6,\"9.88\"],[15,6,\"9.78\"],[14,6,\"9.71\"],[13,6,\"10.04\"],[12,6,\"10.09\"],[11,6,\"9.81\"],[10,6,\"9.80\"],[9,6,\"9.63\"],[8,6,\"9.50\"],[7,6,\"9.35\"],[6,6,\"9.30\"],[5,6,\"9.18\"],[4,6,\"9.02\"],[3,6,\"8.42\"],[2,6,\"7.64\"],[1,6,\"5.73\"],[0,6,\"0.00\"],[90,5,\"0.21\"],[89,5,\"0.21\"],[88,5,\"0.11\"],[87,5,\"0.00\"],[86,5,\"0.10\"],[85,5,\"0.00\"],[84,5,\"0.00\"],[83,5,\"0.00\"],[82,5,\"0.00\"],[81,5,\"0.00\"],[80,5,\"0.00\"],[79,5,\"0.06\"],[78,5,\"0.00\"],[77,5,\"0.16\"],[76,5,\"0.00\"],[75,5,\"0.00\"],[74,5,\"0.00\"],[73,5,\"0.00\"],[72,5,\"0.00\"],[71,5,\"0.00\"],[70,5,\"0.00\"],[69,5,\"0.33\"],[68,5,\"0.00\"],[67,5,\"0.00\"],[66,5,\"0.00\"],[65,5,\"0.00\"],[64,5,\"0.42\"],[63,5,\"0.32\"],[62,5,\"0.41\"],[61,5,\"2.99\"],[60,5,\"6.47\"],[59,5,\"7.52\"],[58,5,\"9.48\"],[57,5,\"9.81\"],[56,5,\"8.80\"],[55,5,\"9.62\"],[54,5,\"9.35\"],[53,5,\"8.42\"],[52,5,\"10.42\"],[51,5,\"9.54\"],[50,5,\"9.67\"],[49,5,\"8.38\"],[48,5,\"8.14\"],[47,5,\"8.13\"],[46,5,\"7.00\"],[45,5,\"6.69\"],[44,5,\"7.12\"],[43,5,\"6.82\"],[42,5,\"4.26\"],[41,5,\"1.90\"],[40,5,\"0.99\"],[39,5,\"0.54\"],[38,5,\"0.30\"],[37,5,\"0.00\"],[36,5,\"0.00\"],[35,5,\"0.00\"],[34,5,\"0.75\"],[33,5,\"0.48\"],[32,5,\"0.74\"],[31,5,\"2.14\"],[30,5,\"1.54\"],[29,5,\"5.23\"],[28,5,\"0.00\"],[27,5,\"0.00\"],[26,5,\"4.03\"],[25,5,\"7.09\"],[24,5,\"7.41\"],[23,5,\"8.05\"],[22,5,\"8.22\"],[21,5,\"8.63\"],[20,5,\"7.73\"],[19,5,\"8.76\"],[18,5,\"9.03\"],[17,5,\"9.41\"],[16,5,\"9.46\"],[15,5,\"9.44\"],[14,5,\"9.46\"],[13,5,\"9.88\"],[12,5,\"9.97\"],[11,5,\"9.69\"],[10,5,\"9.64\"],[9,5,\"9.47\"],[8,5,\"9.34\"],[7,5,\"9.06\"],[6,5,\"9.04\"],[5,5,\"8.85\"],[4,5,\"8.83\"],[3,5,\"9.24\"],[2,5,\"8.38\"],[1,5,\"7.01\"],[0,5,\"0.00\"],[90,4,\"0.00\"],[89,4,\"0.15\"],[88,4,\"0.03\"],[87,4,\"0.06\"],[86,4,\"0.24\"],[85,4,\"0.76\"],[84,4,\"1.38\"],[83,4,\"1.58\"],[82,4,\"1.38\"],[81,4,\"1.62\"],[80,4,\"1.44\"],[79,4,\"1.38\"],[78,4,\"1.72\"],[77,4,\"1.23\"],[76,4,\"1.65\"],[75,4,\"2.03\"],[74,4,\"3.01\"],[73,4,\"1.82\"],[72,4,\"2.32\"],[71,4,\"3.44\"],[70,4,\"2.67\"],[69,4,\"2.27\"],[68,4,\"2.48\"],[67,4,\"2.62\"],[66,4,\"2.12\"],[65,4,\"2.42\"],[64,4,\"1.96\"],[63,4,\"3.49\"],[62,4,\"4.53\"],[61,4,\"7.24\"],[60,4,\"8.62\"],[59,4,\"9.11\"],[58,4,\"9.23\"],[57,4,\"9.19\"],[56,4,\"8.09\"],[55,4,\"7.97\"],[54,4,\"8.26\"],[53,4,\"8.44\"],[52,4,\"8.98\"],[51,4,\"8.50\"],[50,4,\"7.87\"],[49,4,\"8.30\"],[48,4,\"8.07\"],[47,4,\"7.89\"],[46,4,\"7.80\"],[45,4,\"7.52\"],[44,4,\"7.49\"],[43,4,\"7.28\"],[42,4,\"7.70\"],[41,4,\"6.79\"],[40,4,\"6.73\"],[39,4,\"6.01\"],[38,4,\"5.62\"],[37,4,\"4.13\"],[36,4,\"2.97\"],[35,4,\"3.89\"],[34,4,\"3.45\"],[33,4,\"2.02\"],[32,4,\"2.55\"],[31,4,\"7.41\"],[30,4,\"7.73\"],[29,4,\"7.48\"],[28,4,\"0.50\"],[27,4,\"0.00\"],[26,4,\"7.69\"],[25,4,\"8.19\"],[24,4,\"8.36\"],[23,4,\"8.53\"],[22,4,\"8.58\"],[21,4,\"8.69\"],[20,4,\"8.36\"],[19,4,\"8.82\"],[18,4,\"8.71\"],[17,4,\"8.81\"],[16,4,\"8.87\"],[15,4,\"8.75\"],[14,4,\"8.67\"],[13,4,\"8.85\"],[12,4,\"8.90\"],[11,4,\"8.79\"],[10,4,\"8.62\"],[9,4,\"8.57\"],[8,4,\"8.47\"],[7,4,\"8.30\"],[6,4,\"8.35\"],[5,4,\"8.32\"],[4,4,\"8.24\"],[3,4,\"7.65\"],[2,4,\"6.67\"],[1,4,\"4.52\"],[0,4,\"0.03\"],[90,3,\"0.06\"],[89,3,\"0.29\"],[88,3,\"0.38\"],[87,3,\"0.00\"],[86,3,\"0.26\"],[85,3,\"3.12\"],[84,3,\"4.41\"],[83,3,\"4.34\"],[82,3,\"4.45\"],[81,3,\"4.76\"],[80,3,\"4.75\"],[79,3,\"5.19\"],[78,3,\"4.35\"],[77,3,\"5.91\"],[76,3,\"5.38\"],[75,3,\"7.65\"],[74,3,\"8.74\"],[73,3,\"7.51\"],[72,3,\"8.17\"],[71,3,\"8.87\"],[70,3,\"8.01\"],[69,3,\"7.36\"],[68,3,\"7.51\"],[67,3,\"7.45\"],[66,3,\"6.69\"],[65,3,\"6.27\"],[64,3,\"0.86\"],[63,3,\"2.85\"],[62,3,\"3.87\"],[61,3,\"6.23\"],[60,3,\"8.84\"],[59,3,\"9.58\"],[58,3,\"10.52\"],[57,3,\"10.50\"],[56,3,\"9.46\"],[55,3,\"9.50\"],[54,3,\"9.76\"],[53,3,\"9.65\"],[52,3,\"10.81\"],[51,3,\"9.71\"],[50,3,\"9.37\"],[49,3,\"9.37\"],[48,3,\"9.16\"],[47,3,\"8.91\"],[46,3,\"8.87\"],[45,3,\"8.37\"],[44,3,\"8.35\"],[43,3,\"8.17\"],[42,3,\"8.21\"],[41,3,\"6.85\"],[40,3,\"7.23\"],[39,3,\"6.74\"],[38,3,\"6.46\"],[37,3,\"5.48\"],[36,3,\"4.85\"],[35,3,\"5.31\"],[34,3,\"3.71\"],[33,3,\"3.27\"],[32,3,\"1.33\"],[31,3,\"4.23\"],[30,3,\"5.75\"],[29,3,\"5.79\"],[28,3,\"1.07\"],[27,3,\"0.08\"],[26,3,\"8.49\"],[25,3,\"9.14\"],[24,3,\"9.27\"],[23,3,\"9.54\"],[22,3,\"9.61\"],[21,3,\"9.71\"],[20,3,\"9.34\"],[19,3,\"9.78\"],[18,3,\"9.73\"],[17,3,\"9.80\"],[16,3,\"9.85\"],[15,3,\"9.73\"],[14,3,\"9.61\"],[13,3,\"9.76\"],[12,3,\"9.73\"],[11,3,\"9.65\"],[10,3,\"9.48\"],[9,3,\"9.44\"],[8,3,\"9.30\"],[7,3,\"9.17\"],[6,3,\"9.21\"],[5,3,\"9.19\"],[4,3,\"9.12\"],[3,3,\"8.45\"],[2,3,\"5.54\"],[1,3,\"1.82\"],[0,3,\"0.00\"],[90,2,\"0.00\"],[89,2,\"0.00\"],[88,2,\"0.00\"],[87,2,\"0.00\"],[86,2,\"0.00\"],[85,2,\"0.00\"],[84,2,\"0.00\"],[83,2,\"0.00\"],[82,2,\"0.00\"],[81,2,\"0.00\"],[80,2,\"0.00\"],[79,2,\"0.00\"],[78,2,\"0.00\"],[77,2,\"0.00\"],[76,2,\"0.00\"],[75,2,\"0.00\"],[74,2,\"0.00\"],[73,2,\"0.00\"],[72,2,\"0.00\"],[71,2,\"0.00\"],[70,2,\"0.00\"],[69,2,\"0.00\"],[68,2,\"0.00\"],[67,2,\"0.00\"],[66,2,\"0.00\"],[65,2,\"0.00\"],[64,2,\"0.00\"],[63,2,\"0.00\"],[62,2,\"0.00\"],[61,2,\"0.07\"],[60,2,\"0.16\"],[59,2,\"0.16\"],[58,2,\"0.18\"],[57,2,\"0.20\"],[56,2,\"0.42\"],[55,2,\"0.29\"],[54,2,\"0.30\"],[53,2,\"0.26\"],[52,2,\"1.28\"],[51,2,\"0.26\"],[50,2,\"1.17\"],[49,2,\"0.06\"],[48,2,\"0.00\"],[47,2,\"0.11\"],[46,2,\"0.10\"],[45,2,\"0.00\"],[44,2,\"0.11\"],[43,2,\"0.25\"],[42,2,\"0.00\"],[41,2,\"0.00\"],[40,2,\"0.00\"],[39,2,\"0.00\"],[38,2,\"0.00\"],[37,2,\"0.00\"],[36,2,\"0.00\"],[35,2,\"0.00\"],[34,2,\"0.11\"],[33,2,\"0.04\"],[32,2,\"0.00\"],[31,2,\"0.00\"],[30,2,\"0.00\"],[29,2,\"0.00\"],[28,2,\"0.00\"],[27,2,\"0.00\"],[26,2,\"2.28\"],[25,2,\"3.67\"],[24,2,\"3.18\"],[23,2,\"3.76\"],[22,2,\"3.42\"],[21,2,\"3.72\"],[20,2,\"3.75\"],[19,2,\"3.41\"],[18,2,\"2.96\"],[17,2,\"3.36\"],[16,2,\"3.36\"],[15,2,\"2.76\"],[14,2,\"2.64\"],[13,2,\"2.36\"],[12,2,\"2.26\"],[11,2,\"1.82\"],[10,2,\"1.65\"],[9,2,\"1.57\"],[8,2,\"1.38\"],[7,2,\"1.14\"],[6,2,\"1.35\"],[5,2,\"1.33\"],[4,2,\"1.27\"],[3,2,\"1.44\"],[2,2,\"2.59\"],[1,2,\"1.79\"],[0,2,\"0.00\"],[90,1,\"0.00\"],[89,1,\"0.00\"],[88,1,\"0.00\"],[87,1,\"0.00\"],[86,1,\"0.00\"],[85,1,\"0.00\"],[84,1,\"0.00\"],[83,1,\"0.00\"],[82,1,\"0.00\"],[81,1,\"0.00\"],[80,1,\"0.00\"],[79,1,\"0.16\"],[78,1,\"0.00\"],[77,1,\"0.00\"],[76,1,\"0.00\"],[75,1,\"0.00\"],[74,1,\"0.28\"],[73,1,\"0.00\"],[72,1,\"0.04\"],[71,1,\"0.00\"],[70,1,\"0.00\"],[69,1,\"0.00\"],[68,1,\"0.00\"],[67,1,\"0.00\"],[66,1,\"0.00\"],[65,1,\"0.00\"],[64,1,\"0.00\"],[63,1,\"0.00\"],[62,1,\"0.00\"],[61,1,\"0.00\"],[60,1,\"1.08\"],[59,1,\"3.89\"],[58,1,\"4.93\"],[57,1,\"5.29\"],[56,1,\"3.63\"],[55,1,\"3.24\"],[54,1,\"2.87\"],[53,1,\"0.34\"],[52,1,\"4.85\"],[51,1,\"0.18\"],[50,1,\"2.70\"],[49,1,\"0.00\"],[48,1,\"0.16\"],[47,1,\"0.10\"],[46,1,\"0.38\"],[45,1,\"0.34\"],[44,1,\"0.46\"],[43,1,\"0.62\"],[42,1,\"0.23\"],[41,1,\"0.00\"],[40,1,\"0.04\"],[39,1,\"0.00\"],[38,1,\"0.00\"],[37,1,\"0.00\"],[36,1,\"0.03\"],[35,1,\"0.07\"],[34,1,\"0.11\"],[33,1,\"0.12\"],[32,1,\"0.00\"],[31,1,\"0.60\"],[30,1,\"0.19\"],[29,1,\"3.24\"],[28,1,\"0.10\"],[27,1,\"0.00\"],[26,1,\"1.83\"],[25,1,\"1.69\"],[24,1,\"1.18\"],[23,1,\"1.29\"],[22,1,\"1.44\"],[21,1,\"2.11\"],[20,1,\"1.11\"],[19,1,\"2.07\"],[18,1,\"2.08\"],[17,1,\"1.63\"],[16,1,\"2.24\"],[15,1,\"2.23\"],[14,1,\"1.62\"],[13,1,\"2.06\"],[12,1,\"2.28\"],[11,1,\"1.72\"],[10,1,\"1.89\"],[9,1,\"2.22\"],[8,1,\"2.22\"],[7,1,\"1.72\"],[6,1,\"1.82\"],[5,1,\"1.88\"],[4,1,\"2.15\"],[3,1,\"3.01\"],[2,1,\"1.67\"],[1,1,\"0.24\"],[0,1,\"0.00\"]],\"temp\":[\"AT1G65480\",\"BnaC04G0181400ZS\",\"BnaA07G0365100ZS\",\"BnaC06G0323800ZS\",\"BnaA07G0282700ZS\",\"BnaC02G0200600ZS\",\"BnaA02G0156900ZS\"]}"
        var parse = JSON.parse(str);
        var temp= parse["temp"];
        var data= parse["data"];
        var max= parse["max"];
            //console.log(data)


        var myChartd=echarts.init(document.getElementById("my_echarts_heatmap"));
         var hours = [
                "root",
                    "lower_stem_peel","middle_stem_peel","upper_stem_peel",
                    "leaf_1","leaf_2","leaf_3","leaf_4","leaf_5","leaf_6","leaf_7","leaf_8","leaf_9","leaf_10","leaf_11","leaf_12","leaf_13","leaf_14","leaf_15","leaf_16","leaf_17","leaf_18","leaf_19","leaf_20","leaf_21","leaf_22","leaf_23", "cotyledon_0h","vegetative_rosette",
                    "bud_2mm","bud_4mm",
                    "sepal","petal","filament","pollen",
                    "silique_2DAF","silique_4DAF","silique_6DAF","silique_8DAF","silique_10DAF","silique_12DAF",
                    "silique_wall_14DAF","silique_wall_16DAF","silique_wall_18DAF","silique_wall_20DAF","silique_wall_22DAF","silique_wall_24DAF","silique_wall_26DAF","silique_wall_28DAF","silique_wall_30DAF","silique_wall_32DAF","silique_wall_34DAF","silique_wall_36DAF","silique_wall_38DAF","silique_wall_40DAF","silique_wall_42DAF","silique_wall_44DAF","silique_wall_46DAF","silique_wall_48DAF","silique_wall_50DAF","silique_wall_52DAF","silique_wall_54DAF","silique_wall_56DAF","silique_wall_58DAF","silique_wall_60DAF",
                    "seed_14DAF","seed_16DAF","seed_18DAF","seed_20DAF", "seed_22DAF","seed_24DAF","seed_26DAF","seed_28DAF","seed_30DAF","seed_32DAF","seed_34DAF","seed_36DAF","seed_38DAF","seed_40DAF","seed_42DAF","seed_44DAF","seed_46DAF","seed_48DAF","seed_50DAF","seed_52DAF","seed_54DAF","seed_56DAF","seed_58DAF","seed_60DAF","seed_62DAF","seed_64DAF",
                ];
            var days = temp;
            var temp_len=temp.length;
            var data = data;
            var y_arr=new Array();
            for(var k=0;k<temp_len;k++)
            {
            y_arr[k]="";
            }
            var data = data;


            var option = {
                    tooltip: {
                    trigger: 'axis',
                    
                    
                },
                animation: false,
                grid: {
                    height: '70%',
                    width:'100%',
                    top: '10%',
                    left:'0%',
                    containLabel:true
                },
                xAxis: {
                    type: 'category',
                    data: hours,
                    axisLabel:{interval:0,rotate:80 },
                    splitArea: {
                        show: true
                    }
                },
                 dataZoom: {    // 放大和缩放
                        type: 'slider',
                        bottom: 10,
                        height:10,
                        },
                yAxis: {
                    type: 'category',
                    //data:y_arr,
                    data: days,
                    splitArea: {
                        show: true
                    },
                    "axisLine":{       //y轴
                    "show":false

                    },
                    "axisTick":{       //y轴刻度线
                    "show":false
                    },
                    "splitLine": {     //网格线
                    "show": false
                    }
                },
                visualMap: {
                    min: 0,
                    //text:[ 'Log2(TPM+1)'], 
                    max: max,
                    top:"top",                                
                    right:"0%",  
                    calculable: true,
                    orient: 'horizontal',
                inRange: { color: ['#355F8D','#2CA981','#F1E628'] } 
                    
                },
                series: [{
                
                    type: 'heatmap',
                    data: data,
                    label: {
                        show: false
                    },
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }]
            };
            myChartd.setOption(option);



        }
    },

}
</script>

<style>

</style>